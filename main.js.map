{"version":3,"file":"main.js","mappings":"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","sources":["webpack://mesto-project-ff/webpack/bootstrap","webpack://mesto-project-ff/webpack/runtime/define property getters","webpack://mesto-project-ff/webpack/runtime/hasOwnProperty shorthand","webpack://mesto-project-ff/./src/scripts/api.js","webpack://mesto-project-ff/./src/scripts/card.js","webpack://mesto-project-ff/./src/scripts/modal.js","webpack://mesto-project-ff/./src/scripts/form.js","webpack://mesto-project-ff/./src/scripts/validation.js","webpack://mesto-project-ff/./src/scripts/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const config = {\r\n  baseUrl: \"https://nomoreparties.co/v1/wff-cohort-29\",\r\n  headers: {\r\n    authorization: \"7e3be90c-4683-49a5-bd45-3a1bb5f30daf\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n};\r\n\r\nconst checkResponse = (response) => {\r\n  if (response.ok) {\r\n    return response.json();\r\n  }\r\n  return Promise.reject(`Произошла ошибка: ${response.status}`);\r\n};\r\n\r\nexport const getInitialProfileData = () => {\r\n  return fetch(`${config.baseUrl}/users/me`, {\r\n    headers: config.headers,\r\n  }).then(checkResponse);\r\n};\r\n\r\nexport const getInitialCards = () => {\r\n  return fetch(`${config.baseUrl}/cards`, {\r\n    headers: config.headers,\r\n  }).then(checkResponse);\r\n};\r\n\r\nexport const editProfile = (nameInput, aboutInput) => {\r\n  return fetch(`${config.baseUrl}/users/me`, {\r\n    method: \"PATCH\",\r\n    headers: config.headers,\r\n    body: JSON.stringify({\r\n      name: nameInput,\r\n      about: aboutInput,\r\n    }),\r\n  }).then(checkResponse);\r\n};\r\n\r\nexport const addNewCard = (cardName, cardLink) => {\r\n  return fetch(`${config.baseUrl}/cards`, {\r\n    method: \"POST\",\r\n    headers: config.headers,\r\n    body: JSON.stringify({\r\n      name: cardName,\r\n      link: cardLink,\r\n    }),\r\n  }).then(checkResponse);\r\n};\r\n\r\nexport const removeCard = (cardId) => {\r\n  return fetch(`${config.baseUrl}/cards/${cardId}`, {\r\n    method: \"DELETE\",\r\n    headers: config.headers,\r\n  }).then(checkResponse);\r\n};\r\n\r\nexport const addLikeToCard = (cardId) => {\r\n  return fetch(`${config.baseUrl}/cards/likes/${cardId}`, {\r\n    method: \"PUT\",\r\n    headers: config.headers,\r\n  }).then(checkResponse);\r\n};\r\n\r\nexport const removeLikeFromCard = (cardId) => {\r\n  return fetch(`${config.baseUrl}/cards/likes/${cardId}`, {\r\n    method: \"DELETE\",\r\n    headers: config.headers,\r\n  }).then(checkResponse);\r\n};\r\n\r\nexport const addNewAvatar = (avatarUrl) => {\r\n  return fetch(`${config.baseUrl}/users/me/avatar`, {\r\n    method: \"PATCH\",\r\n    headers: config.headers,\r\n    body: JSON.stringify({\r\n      avatar: avatarUrl,\r\n    }),\r\n  }).then(checkResponse);\r\n};\r\n","import { removeCard, addLikeToCard, removeLikeFromCard } from \"./api\";\r\n\r\nexport function deleteCard(cardElement, cardId) {\r\n  removeCard(cardId)\r\n    .then(() => {\r\n      cardElement.remove();\r\n    })\r\n    .catch((err) => {\r\n      console.error(err);\r\n    });\r\n}\r\n\r\nexport const likeCard = (likeButton, cardId, cardElementLikeCount) => {\r\n  if (!likeButton.classList.contains(\"card__like-button_is-active\")) {\r\n    addLikeToCard(cardId)\r\n      .then((result) => {\r\n        cardElementLikeCount.textContent = result.likes.length;\r\n        likeButton.classList.add(\"card__like-button_is-active\");\r\n      })\r\n      .catch((err) => console.error(err));\r\n  } else {\r\n    removeLikeFromCard(cardId)\r\n      .then((result) => {\r\n        cardElementLikeCount.textContent = result.likes.length;\r\n        likeButton.classList.remove(\"card__like-button_is-active\");\r\n      })\r\n      .catch((err) => console.error(err));\r\n  }\r\n};\r\n\r\nexport function createCard(\r\n  cardData,\r\n  deleteCard,\r\n  likeCard,\r\n  openImageModal,\r\n  userId\r\n) {\r\n  const cardTemplate = document.querySelector(\"#card-template\").content;\r\n\r\n  const cardElement = cardTemplate.querySelector(\".card\").cloneNode(true);\r\n  const cardElementImage = cardElement.querySelector(\".card__image\");\r\n  const cardElementTitle = cardElement.querySelector(\".card__title\");\r\n  const cardElementLikeCount = cardElement.querySelector(\".card__like-count\");\r\n  const buttonLikeCard = cardElement.querySelector(\".card__like-button\");\r\n  const cardElementDeleteButton = cardElement.querySelector(\r\n    \".card__delete-button\"\r\n  );\r\n\r\n  cardElementImage.src = cardData.link;\r\n  cardElementImage.alt = cardData.name;\r\n  cardElementTitle.textContent = cardData.name;\r\n  cardElementLikeCount.textContent = cardData.likes.length;\r\n\r\n  const cardId = cardData._id;\r\n\r\n  if (cardData.owner._id !== userId) {\r\n    cardElementDeleteButton.remove();\r\n  }\r\n\r\n  // если мы оставили лайк, то добавляем класс для лайка карточки\r\n  if (cardData.likes.some((like) => like._id === userId)) {\r\n    buttonLikeCard.classList.add(\"card__like-button_is-active\");\r\n  }\r\n\r\n  cardElementDeleteButton.addEventListener(\"click\", () => {\r\n    deleteCard(cardElement, cardId);\r\n  });\r\n\r\n  buttonLikeCard.addEventListener(\"click\", () =>\r\n    likeCard(buttonLikeCard, cardId, cardElementLikeCount)\r\n  );\r\n\r\n  const cardImage = cardElement.querySelector(\".card__image\");\r\n  cardImage.addEventListener(\"click\", () => openImageModal(cardData));\r\n\r\n  return cardElement;\r\n}\r\n","// закрытыть попап если нажали \"X\" или по оверлею\r\nconst handleClose = (event) => {\r\n  if (\r\n    event.target.classList.contains(\"popup__close\") ||\r\n    event.currentTarget === event.target\r\n  ) {\r\n    closeModal(event.currentTarget);\r\n  }\r\n};\r\n\r\n// закрытыть попап если нажали \"Esc\"\r\nconst handleCloseByEscape = (event) => {\r\n  if (event.key === \"Escape\") {\r\n    const popupWindow = document.querySelector(\".popup_is-opened\");\r\n    closeModal(popupWindow);\r\n  }\r\n};\r\n\r\nexport function closeModal(popupWindow) {\r\n  popupWindow.classList.remove(\"popup_is-opened\");\r\n  popupWindow.removeEventListener(\"click\", handleClose);\r\n  document.removeEventListener(\"keydown\", handleCloseByEscape);\r\n}\r\n\r\nexport function openModal(popupWindow) {\r\n  popupWindow.classList.add(\"popup_is-opened\");\r\n  popupWindow.addEventListener(\"click\", handleClose);\r\n  document.addEventListener(\"keydown\", handleCloseByEscape);\r\n}\r\n","import { closeModal } from \"./modal\";\r\nimport { createCard, deleteCard, likeCard } from \"./card\";\r\nimport {\r\n  popupEdit,\r\n  popupAddCard,\r\n  popupOpenAvatar,\r\n  cardsContainer,\r\n  nameInput,\r\n  jobInput,\r\n  cardNameInput,\r\n  cardUrlInput,\r\n  profileTitle,\r\n  profileDescription,\r\n  openImageModal,\r\n  profileImage,\r\n  avatarUrlInput,\r\n} from \"./index.js\";\r\n\r\nimport { editProfile, addNewCard, addNewAvatar } from \"./api.js\";\r\n\r\nconst renderLoading = (isloading, btnText, formElement) => {\r\n  const button = formElement.querySelector(\".popup__button\");\r\n  if (isloading) {\r\n    button.textContent = btnText;\r\n  } else {\r\n    button.textContent = btnText;\r\n  }\r\n};\r\n\r\nconst cleanForm = (event) => {\r\n  const form = event.target;\r\n  form.reset();\r\n};\r\n\r\nexport const handleAvatarEditFormSubmit = (event) => {\r\n  event.preventDefault();\r\n  renderLoading(true, \"Сохранение\", event.target);\r\n  addNewAvatar(avatarUrlInput.value)\r\n    .then((result) => {\r\n      profileImage.style.backgroundImage = `url(${result.avatar})`;\r\n      cleanForm(event);\r\n    })\r\n    .catch((err) => console.error(err))\r\n    .finally(() => renderLoading(false, \"Сохранить\", event.target));\r\n\r\n  closeModal(popupOpenAvatar);\r\n};\r\n\r\nexport const handleProfileEditFormSubmit = (event) => {\r\n  event.preventDefault();\r\n  renderLoading(true, \"Сохранение\", event.target);\r\n  editProfile(nameInput.value, jobInput.value)\r\n    .then((data) => {\r\n      profileTitle.textContent = data.name;\r\n      profileDescription.textContent = data.about;\r\n    })\r\n    .catch((err) => {\r\n      console.error(err);\r\n    })\r\n    .finally(() => renderLoading(false, \"Сохранить\", event.target));\r\n\r\n  closeModal(popupEdit);\r\n};\r\n\r\nexport const handleFormAddCardSubmit = (event) => {\r\n  event.preventDefault();\r\n  renderLoading(true, \"Создание\", event.target);\r\n  addNewCard(cardNameInput.value, cardUrlInput.value)\r\n    .then((data) => {\r\n      const cardElement = createCard(\r\n        data,\r\n        deleteCard,\r\n        likeCard,\r\n        openImageModal,\r\n        data.owner._id\r\n      );\r\n      cardsContainer.prepend(cardElement);\r\n      closeModal(popupAddCard);\r\n\r\n      // после успешного сабмита, очищаем поля формы\r\n      cleanForm(event);\r\n    })\r\n    .catch((err) => {\r\n      console.error(err);\r\n    })\r\n    .finally(() => renderLoading(true, \"Создать\", event.target));\r\n};\r\n","const showInputError = (formElement, inputElement, errorMessage, selectors) => {\r\n  const errorElement = formElement.querySelector(`.${inputElement.id}-error`);\r\n\r\n  inputElement.classList.add(selectors.inputErrorClass);\r\n  errorElement.textContent = errorMessage;\r\n  errorElement.classList.add(selectors.errorClass);\r\n};\r\n\r\nconst hideInputError = (formElement, inputElement, selectors) => {\r\n  const errorElement = formElement.querySelector(`.${inputElement.id}-error`);\r\n\r\n  inputElement.classList.remove(selectors.inputErrorClass);\r\n  errorElement.textContent = \"\";\r\n  errorElement.classList.remove(selectors.errorClass);\r\n};\r\n\r\nconst checkInputValidity = (formElement, inputElement, selectors) => {\r\n  if (inputElement.validity.patternMismatch) {\r\n    inputElement.setCustomValidity(inputElement.dataset.errorMessage);\r\n  } else {\r\n    inputElement.setCustomValidity(\"\");\r\n  }\r\n\r\n  if (!inputElement.validity.valid) {\r\n    showInputError(\r\n      formElement,\r\n      inputElement,\r\n      inputElement.validationMessage,\r\n      selectors\r\n    );\r\n  } else {\r\n    hideInputError(formElement, inputElement, selectors);\r\n  }\r\n};\r\n\r\n// функции для работы с кнопокой\r\n\r\nconst hasInvalidInput = (inputList) => {\r\n  return inputList.some((inputElement) => {\r\n    return !inputElement.validity.valid;\r\n  });\r\n};\r\n\r\nconst toggleButtonState = (inputList, buttonElement, selectors) => {\r\n  if (hasInvalidInput(inputList)) {\r\n    buttonElement.disabled = true;\r\n    buttonElement.classList.add(selectors.inactiveButtonClass);\r\n  } else {\r\n    buttonElement.disabled = false;\r\n    buttonElement.classList.remove(selectors.inactiveButtonClass);\r\n  }\r\n};\r\n\r\nconst setEventListeners = (formElement, selectors) => {\r\n  const inputList = Array.from(\r\n    formElement.querySelectorAll(selectors.inputSelector)\r\n  );\r\n\r\n  const button = formElement.querySelector(selectors.submitButtonSelector);\r\n\r\n  inputList.forEach((inputElement) => {\r\n    inputElement.addEventListener(\"input\", () => {\r\n      checkInputValidity(formElement, inputElement, selectors);\r\n      toggleButtonState(inputList, button, selectors);\r\n    });\r\n  });\r\n};\r\n\r\nexport const enableValidation = (selectors) => {\r\n  const formList = Array.from(\r\n    document.querySelectorAll(selectors.formSelector)\r\n  );\r\n\r\n  formList.forEach((form) => {\r\n    setEventListeners(form, selectors);\r\n  });\r\n};\r\n\r\nexport const clearValidation = (formElement, selectors) => {\r\n  const inputList = Array.from(\r\n    formElement.querySelectorAll(selectors.inputSelector)\r\n  );\r\n  const buttonSubmit = formElement.querySelector(\r\n    selectors.submitButtonSelector\r\n  );\r\n\r\n  inputList.forEach((inputElement) => {\r\n    hideInputError(formElement, inputElement, selectors);\r\n  });\r\n\r\n  toggleButtonState(inputList, buttonSubmit, selectors);\r\n};\r\n","import \"../pages/index.css\";\r\nimport { createCard, deleteCard, likeCard } from \"./card.js\";\r\nimport { openModal } from \"./modal.js\";\r\nimport {\r\n  handleProfileEditFormSubmit,\r\n  handleFormAddCardSubmit,\r\n  handleAvatarEditFormSubmit,\r\n} from \"./form.js\";\r\n\r\nimport { getInitialProfileData, getInitialCards } from \"./api.js\";\r\n\r\nimport { enableValidation, clearValidation } from \"./validation.js\";\r\n\r\nexport const cardsContainer = document.querySelector(\".places__list\");\r\n\r\nexport const popupEdit = document.querySelector(\".popup_type_edit\"); // модальное окно для редактирования профиля\r\nexport const popupAddCard = document.querySelector(\".popup_type_new-card\"); // модальное окно для добавления карточки\r\nexport const popupOpenImage = document.querySelector(\".popup_type_image\"); // модальное окно изображения\r\nexport const popupOpenAvatar = document.querySelector(\".popup_type_new-avatar\");\r\n\r\nconst editProfileButton = document.querySelector(\".profile__edit-button\"); // кнопка для редактирования профиля\r\nconst addCardButton = document.querySelector(\".profile__add-button\"); // кнопка для добавления карточки\r\nconst editAvatarButton = document.querySelector(\".profile__image-wrapper\");\r\n\r\nconst formEditProfile = document.forms[\"edit-profile\"]; // форма редактирования профиля\r\nconst formAddCard = document.forms[\"new-place\"]; // форма добавления карточки\r\nconst formEditAvatar = document.forms[\"edit-avatar\"]; // форма редактирования аватара\r\n\r\nexport const nameInput = document.querySelector(\".popup__input_type_name\"); // поле формы редактирования - \"Имя\"\r\nexport const jobInput = document.querySelector(\r\n  \".popup__input_type_description\"\r\n); // поле формы редактирования - \"Занятие\"\r\n\r\nexport const cardNameInput = document.querySelector(\r\n  \".popup__input_type_card-name\"\r\n); // поле формы добавления карточки \"Название\"\r\nexport const cardUrlInput = document.querySelector(\".popup__input_type_url\"); // поле формы добавления карточки - \"Ссылка на картинку\"\r\nexport const avatarUrlInput = document.querySelector(\r\n  \".popup__input_type_avatar_url\"\r\n);\r\n\r\nexport const profileTitle = document.querySelector(\".profile__title\");\r\nexport const profileDescription = document.querySelector(\r\n  \".profile__description\"\r\n);\r\nexport const profileImage = document.querySelector(\".profile__image\");\r\n\r\nexport const popupImage = document.querySelector(\".popup__image\");\r\nexport const popupImageDescription = document.querySelector(\".popup__caption\");\r\nexport const openImageModal = (cardData) => {\r\n  popupImage.src = cardData.link;\r\n  popupImage.alt = cardData.name;\r\n  popupImageDescription.textContent = cardData.name;\r\n  openModal(popupOpenImage);\r\n};\r\n\r\n// ставить значения в поля формы из профиля\r\nconst setProfileFormInitialValues = () => {\r\n  nameInput.value = profileTitle.textContent;\r\n  jobInput.value = profileDescription.textContent;\r\n};\r\n\r\n// функция для открытыя модального окна \"Редактирование профиля\"\r\nconst openEditProfileModal = () => {\r\n  setProfileFormInitialValues();\r\n  clearValidation(formEditProfile, selectors);\r\n  openModal(popupEdit);\r\n};\r\n\r\n// открываем модальные окна\r\neditProfileButton.addEventListener(\"click\", () => openEditProfileModal());\r\naddCardButton.addEventListener(\"click\", () => {\r\n  openModal(popupAddCard);\r\n  clearValidation(formAddCard, selectors);\r\n});\r\neditAvatarButton.addEventListener(\"click\", () => {\r\n  openModal(popupOpenAvatar);\r\n  clearValidation(formEditAvatar, selectors);\r\n});\r\n\r\nformEditProfile.addEventListener(\"submit\", handleProfileEditFormSubmit);\r\nformAddCard.addEventListener(\"submit\", handleFormAddCardSubmit);\r\nformEditAvatar.addEventListener(\"submit\", handleAvatarEditFormSubmit);\r\n\r\nconst selectors = {\r\n  formSelector: \".popup__form\",\r\n  inputSelector: \".popup__input\",\r\n  submitButtonSelector: \".popup__button\",\r\n  inactiveButtonClass: \"popup__button_disabled\",\r\n  inputErrorClass: \"popup__input_type_error\",\r\n  errorClass: \"popup__input-error-visible\",\r\n};\r\n\r\nenableValidation(selectors);\r\n\r\nconst setInitialProfileData = (profileData) => {\r\n  profileTitle.textContent = profileData.name;\r\n  profileDescription.textContent = profileData.about;\r\n  profileImage.style.backgroundImage = `url(${profileData.avatar})`;\r\n};\r\n\r\nconst setInitialCards = (cards, userId) => {\r\n  cards.forEach((cardData) => {\r\n    const cardElement = createCard(\r\n      cardData,\r\n      deleteCard,\r\n      likeCard,\r\n      openImageModal,\r\n      userId\r\n    );\r\n    cardsContainer.append(cardElement);\r\n  });\r\n};\r\n\r\nPromise.all([getInitialProfileData(), getInitialCards()])\r\n  .then(([profileData, initialCards]) => {\r\n    const userId = profileData._id;\r\n    setInitialProfileData(profileData);\r\n    setInitialCards(initialCards, userId);\r\n  })\r\n  .catch((err) => console.error(err));\r\n"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","config","baseUrl","headers","authorization","checkResponse","response","ok","json","Promise","reject","concat","status","deleteCard","cardElement","cardId","fetch","method","then","removeCard","remove","catch","err","console","error","likeCard","likeButton","cardElementLikeCount","classList","contains","removeLikeFromCard","result","textContent","likes","length","addLikeToCard","add","createCard","cardData","openImageModal","userId","document","querySelector","content","cloneNode","cardElementImage","cardElementTitle","buttonLikeCard","cardElementDeleteButton","src","link","alt","name","_id","owner","some","like","addEventListener","handleClose","event","target","currentTarget","closeModal","handleCloseByEscape","popupWindow","removeEventListener","openModal","renderLoading","isloading","btnText","formElement","cleanForm","reset","hideInputError","inputElement","selectors","errorElement","id","inputErrorClass","errorClass","toggleButtonState","inputList","buttonElement","validity","valid","hasInvalidInput","disabled","inactiveButtonClass","clearValidation","Array","from","querySelectorAll","inputSelector","buttonSubmit","submitButtonSelector","forEach","cardsContainer","popupEdit","popupAddCard","popupOpenImage","popupOpenAvatar","editProfileButton","addCardButton","editAvatarButton","formEditProfile","forms","formAddCard","formEditAvatar","nameInput","jobInput","cardNameInput","cardUrlInput","avatarUrlInput","profileTitle","profileDescription","profileImage","popupImage","popupImageDescription","value","preventDefault","aboutInput","body","JSON","stringify","about","editProfile","data","finally","cardName","cardLink","prepend","avatarUrl","avatar","style","backgroundImage","formSelector","form","button","patternMismatch","setCustomValidity","dataset","errorMessage","showInputError","validationMessage","checkInputValidity","setEventListeners","enableValidation","all","_ref","_ref2","profileData","initialCards","setInitialProfileData","cards","append","setInitialCards"],"sourceRoot":""}